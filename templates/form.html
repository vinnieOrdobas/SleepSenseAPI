{% extends "base.html" %}

{% block title %}SleepSense{% endblock %}

{% block content %}
    <!-- Row for the Card with Title and Description -->
    <div class="row" style="margin-top: 30px;">
        <div class="col s12 m8 offset-m2">
            <div class="card-layout">
                <!-- Card Title and Description -->
                <div class="card-content">
                    <h2>Identify Patterns</h2>
                    <p>Fill the form below with your data. This is non-PHI (Personal health information) and non-PII (Personal identifiable Information).
                        This data will be used to provide insights on your sleeping patterns. Note that the results are not a medical diagnosis.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Row for the Form -->
    <div class="row">
        <div class="col s12 m8 offset-m2">
            <form id="healthForm" action="/predict" method="post" class="col s12">
                <!-- Gender Field -->
                <div class="input-field col s12">
                    <select id="gender" name="gender" class="browser-default" required>
                        <option value="" disabled selected>Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>

                <!-- Age Field -->
                <div class="input-field col s12">
                    <select id="age" name="age" class="browser-default" required>
                        <option value="" disabled selected>Age</option>
                        <option value="26-35">26-35</option>
                        <option value="36-45">36-45</option>
                        <option value="46-55">46-55</option>
                        <option value="55-59">55-59</option>
                    </select>
                </div>

                <!-- Daily Steps Field -->
                <div class="input-field col s12">
                    <select id="daily_steps" name="daily_steps" class="browser-default" required>
                        <option value="" disabled selected>Daily steps</option>
                        <option value="Under 4000">Under 4000</option>
                        <option value="5000-6500">5000-6500</option>
                        <option value="7000-9000">7000-9000</option>
                        <option value="Over 10000">Over 10000</option>
                    </select>
                </div>

                <!-- Sleep Duration Field -->
                <div class="input-field col s12">
                    <select id="sleep_duration" name="sleep_duration" class="browser-default" required>
                        <option value="" disabled selected>Sleep duration</option>
                        <option value="5-6 Hours">5-6 hours</option>
                        <option value="6-7 Hours">6-7 hours</option>
                        <option value="7-8 Hours">7-8 hours</option>
                        <option value="8-9 Hours">8-9 hours</option>
                    </select>
                </div>

                <!-- Physical Activity Level Field -->
                <div class="input-field col s12">
                    <select id="daily_physical_activity" name="daily_physical_activity" class="browser-default" required>
                        <option value="" disabled selected>Physical activity level</option>
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                    </select>
                </div>

                <!-- Quality of Sleep Field -->
                <div class="input-field col s12">
                    <select id="quality_of_sleep" name="quality_of_sleep" class="browser-default" required>
                        <option value="" disabled selected>Quality of Sleep</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>

                <!-- Stress Level Field -->
                <div class="input-field col s12">
                    <select id="stress_level" name="stress_level" class="browser-default" required>
                        <option value="" disabled selected>Stress Level</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>

                <!-- Height Field -->
                <div class="row">
                    <div class="input-field col s8">
                        <input type="number" id="height" name="height" step="0.01" required>
                        <label for="height">Height</label>
                        <span class="helper-text" data-error="Please enter a valid height" data-success="Valid"></span>
                    </div>
                    <div class="input-field col s4">
                        <select id="heightUnit" name="heightUnit" class="browser-default" onchange="handleHeightUnitChange()">
                            <option value="cm" selected>cm</option>
                            <option value="feet">feet</option>
                        </select>
                    </div>
                </div>

                <!-- Weight Field -->
                <div class="row">
                    <div class="input-field col s8">
                        <input type="number" id="weight" name="weight" step="0.01" required>
                        <label for="weight">Weight</label>
                    </div>
                    <div class="input-field col s4">
                        <select id="weightUnit" name="weightUnit" class="browser-default">
                            <option value="kg" selected>kg</option>
                            <option value="lbs">lbs</option>
                        </select>
                    </div>
                </div>

                <!-- Blood Pressure Fields -->
                <div class="row">
                    <div class="input-field col s6">
                        <input type="number" id="systolic" name="systolic" class="validate" required>
                        <label for="systolic">Systolic Blood Pressure</label>
                        <span class="helper-text" data-error="Please enter a valid number" data-success="Valid"></span>
                    </div>
                    <div class="input-field col s6">
                        <input type="number" id="diastolic" name="diastolic" class="validate" required>
                        <label for="diastolic">Diastolic Blood Pressure</label>
                        <span class="helper-text" data-error="Please enter a valid number" data-success="Valid"></span>
                    </div>
                </div>

                <!-- Heart Rate Field -->
                <div class="input-field col s12">
                    <input type="number" id="heart_rate" name="heart_rate" class="validate" required>
                    <label for="heart_rate">Heart Rate (bpm)</label>
                    <span class="helper-text" data-error="Please enter a valid number" data-success="Valid"></span>
                </div>

                <!-- Submit Button -->
                <div class="submit-container">
                    <button type="submit" class="btn waves-effect waves-light submit-btn">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Disclaimer Modal Structure -->
    <div id="disclaimerModal" class="modal">
        <div class="modal-content" style="background-color: #f8f9fa; padding: 20px; border-radius: 8px;">
            <h4>Disclaimer</h4>
            <p>The result is not a medical diagnosis.</p>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-close btn waves-effect waves-light" onclick="submitForm()">Agree</a>
            <a href="#!" class="modal-close btn waves-effect waves-light">Disagree</a>
        </div>
    </div>
{% endblock %}

{% block custom_js %}
<script src="{{ url_for('static', filename='form.js') }}"></script>
{% endblock %}
