{% extends "base.html" %}

{% block title %}Prediction Results{% endblock %}

{% block content %}
    <div class="card">
        <div class="card-content">
            {% if prediction %}
            <span class="card-title">Result: {{ prediction }}</span>
            {% endif %}
            <ul>
                {% for condition, confidence in confidence.items() %}
                <li>
                    {{ condition }}
                    <div class="confidence-bar-container">
                        <div class="confidence-bar" style="--confidence-width: {{ confidence * 100 }}%;">
                            <span class="confidence-percentage">{{ confidence | round(2) * 100 }}%</span>
                        </div>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- Accordion for Resources -->
    <ul class="collapsible">
        <li>
            <div class="collapsible-header">
                <span>Resources</span>
            </div>
            <div class="collapsible-body">
                <ul>
                    <li><a href="https://www.mayoclinic.org/diseases-conditions/insomnia/symptoms-causes/syc-20355167", target="_blank" class="resource-link">Insomnia</a></li>
                    <li><a href="https://www.mayoclinic.org/diseases-conditions/sleep-apnea/symptoms-causes/syc-20377631", target="_blank" class="resource-link">Sleep Apnea resources</a></li>
                </ul>
            </div>
        </li>
    </ul>
{% endblock %}
{% block custom_js %}
    <script src="{{ url_for('static', filename='result.js') }}"></script>
{% endblock %}
